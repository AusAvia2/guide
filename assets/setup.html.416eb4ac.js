import{r as d,o as u,c,a as e,b as o,w as n,F as h,d as t,e as l}from"./app.a072516b.js";import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";const g={},_={class:"custom-container tip"},y=e("p",{class:"custom-container-title"},"TIP",-1),m=t("We now offer $5/month hosting, you can get started by heading to "),b={href:"https://cloud.tovyblox.xyz",target:"_blank",rel:"noopener noreferrer"},f=t("Tovy Cloud"),v=e("h1",{id:"setting-up-tovy",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#setting-up-tovy","aria-hidden":"true"},"#"),t(" Setting up Tovy")],-1),w=t("In this guide, we will walk you through both the installation and hosting process for Tovy. This page will also mention how to setup Tovy in a "),x={href:"https://railway.app",target:"_blank",rel:"noopener noreferrer"},T=t("Railway"),S=t(" project. df"),k=e("p",null,"For starter groups, we recommend using the Railway method as it is much easier to begin with. Larger groups can consider using Railway too! Just not the free tier.",-1),R=e("h2",{id:"table-of-content",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#table-of-content","aria-hidden":"true"},"#"),t(" Table of Content")],-1),q={class:"table-of-contents"},I=t("Table of Content"),N=t("Setting up Tovy in your server"),D=t("Prerequisites"),P=t("Connecting to your server"),L=t("Downloading Tovy and required dependencies"),G=t("Database Setup"),C=t("Setting up Tovy for the first time"),A=t("Finishing Up"),U=t("Starting Tovy"),E=t("Setting up login and your group"),j=t("Serving Tovy"),O=t("Setting up Tovy as a Railway project (free plan)"),F=t("Prerequisites"),Q=t("Deploying Tovy onto Railway"),W=t("Setting up Tovy for the first time"),Y=e("h2",{id:"setting-up-tovy-in-your-server",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#setting-up-tovy-in-your-server","aria-hidden":"true"},"#"),t(" Setting up Tovy in your server")],-1),J={class:"custom-container warning"},B=e("p",{class:"custom-container-title"},"WARNING",-1),z=e("p",null,[t("You are expected to know how to use the terminal as well as the NodeJS runtime. Tovy is "),e("strong",null,"not responsible"),t(" for any user errors caused during the setup process, this includes money/playerbase losses, server crashes, et cetera.")],-1),H=t("This guide does not provide instructions on getting a PostgreSQL database, "),V={href:"https://www.digitalocean.com/community/tutorials/how-to-install-postgresql-on-ubuntu-22-04-quickstart",target:"_blank",rel:"noopener noreferrer"},K=t("please use this resource from DigitalOcean"),M=t(" instead, if you use Ubuntu!"),$=t("As long as the corresponding platform is supported by the "),X={href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"},Z=t("NodeJS runtime"),ee=t(", Tovy can be installed and hosted for your fellow group members to use."),te=l('<h3 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h3><ul><li>A machine that can run Console/Terminal tasks, as well as self-hosting your Tovy instance.</li><li>NodeJS 16+ installed with a package manager (Yarn, pnpm, or npm (included with NodeJS))</li><li>Git installed</li><li>A PostgreSQL database</li><li>Internet connection</li></ul><h3 id="connecting-to-your-server" tabindex="-1"><a class="header-anchor" href="#connecting-to-your-server" aria-hidden="true">#</a> Connecting to your server</h3><p>You can download &amp; setup Tovy in your computer first, then move Tovy back to your server. However, please be aware that we will be assuming you are doing all this in your server.</p><p>If you do not have direct access to your server, connect to the server via Secure Shell.</p><h3 id="downloading-tovy-and-required-dependencies" tabindex="-1"><a class="header-anchor" href="#downloading-tovy-and-required-dependencies" aria-hidden="true">#</a> Downloading Tovy and required dependencies</h3>',6),oe={class:"custom-container warning"},ne=e("p",{class:"custom-container-title"},"WARNING",-1),se=t("Install "),ae={href:"https://git-scm.com",target:"_blank",rel:"noopener noreferrer"},ie=t("Git"),re=t(" and the "),le={href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"},de=t("NodeJS runtime"),ue=t(" first"),ce=e("p",null,"Once you are in your server, type the following commands in your terminal session to download Tovy:",-1),he=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`git clone https://github.com/tovyblox/tovy && cd tovy
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),pe=e("p",null,"After it finishes downloading, you should now be in Tovy's directory, run this command so the required dependencies for Tovy are installed:",-1),ge=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`npm install
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),_e=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`pnpm install
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),ye=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`yarn install
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),me=e("h3",{id:"database-setup",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#database-setup","aria-hidden":"true"},"#"),t(" Database Setup")],-1),be=t("From the resource from DigitalOcean "),fe={href:"https://docs.tovyblox.xyz/guides/deploy/setup.html#setting-up-tovy-in-your-server",target:"_blank",rel:"noopener noreferrer"},ve=t("linked here"),we=t(", you should have PostgreSQL with a user with password, and database setup!"),xe=l(`<div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Occasionally, PostgreSQL does not prompt for a password when making a new user, so you can try the following commands below.</p></div><ul><li>Log into PostgreSQL user as root/admin, and type <code>\\password &lt;username&gt;</code></li></ul><p>Here&#39;s a template for your Database URL that you&#39;ll need later.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>postgresql://username:password@&lt;host&gt;:&lt;port&gt;/&lt;tovy db name&gt;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><ul><li><strong>Username:</strong> User <code>(String)</code></li><li><strong>Password:</strong> User Password <code>(String)</code></li><li><strong>Host:</strong> IP Address of PostgreSQL server or <code>localhost</code> if Tovy is on the same machine as your PostgreSQL installation. <code>(IP/Domain/localhost)</code></li><li><strong>Port:</strong> Specify PostgreSQL Port / <em>5432 if you didn&#39;t modify it.</em> <code>(Number)</code></li><li><strong>Tovy DB Name</strong>: Database Name that the user has access to <code>(String)</code></li></ul><h3 id="setting-up-tovy-for-the-first-time" tabindex="-1"><a class="header-anchor" href="#setting-up-tovy-for-the-first-time" aria-hidden="true">#</a> Setting up Tovy for the first time</h3><p>Tovy requires some configuration before it can actually run. Configuring a system can be a hassle. However, luckily, we have made it very easy to do.</p><p>For the secret key go to https://1password.com/password-generator/ and generate a password with 64 charactars that has symbols and copy it</p><p>In the root of the file make a file called <code>.env</code> and copy/paste the below contents in it</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>DATABASE_URL=&quot;&lt;Database URL from Database Setup&gt;&quot;
SESSION_SECRET=&quot;&lt;your-secret-key-with-32-chars&gt;&quot;
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Then, replace the database URL with the postgres database you made</p><h3 id="finishing-up" tabindex="-1"><a class="header-anchor" href="#finishing-up" aria-hidden="true">#</a> Finishing Up</h3>`,12),Te=t("We use NextJS, so you have to build the website first if you want to officially use this in production. If not, skip to "),Se={href:"https://docs.tovyblox.xyz/guides/deploy/setup.html#starting-tovy",target:"_blank",rel:"noopener noreferrer"},ke=t("Starting Tovy"),Re=e("p",null,"Build the website for production:",-1),qe=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`npm run build
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),Ie=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`pnpm run build
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),Ne=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`yarn run build
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),De=e("strong",null,"This takes a few seconds/minutes depending on your machine's performance.",-1),Pe=t(" Move on to "),Le={href:"https://docs.tovyblox.xyz/guides/deploy/setup.html#starting-tovy",target:"_blank",rel:"noopener noreferrer"},Ge=t("Starting Tovy"),Ce=e("h3",{id:"starting-tovy",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#starting-tovy","aria-hidden":"true"},"#"),t(" Starting Tovy")],-1),Ae=e("p",null,"If you built your website for production, using the step above, use this to start Tovy.",-1),Ue=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`npm run start
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),Ee=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`pnpm run start
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),je=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`yarn run start
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),Oe=t(`Otherwise, if you didn't build Tovy, you cannot use the section "`),Fe={href:"https://docs.tovyblox.xyz/guides/deploy/setup.html#serving-tovy",target:"_blank",rel:"noopener noreferrer"},Qe=t("Serving Tovy"),We=t('", unless you build it. On the other hand, you can use '),Ye=e("strong",null,"Dev Start",-1),Je=t(" to instantly start Tovy to see any file changes without building it!"),Be=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`npm run dev
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),ze=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`pnpm run dev
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),He=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`yarn run dev
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),Ve=e("h3",{id:"setting-up-login-and-your-group",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#setting-up-login-and-your-group","aria-hidden":"true"},"#"),t(" Setting up login and your group")],-1),Ke=t("Once Tovy has started running, Tovy should reside in "),Me={href:"http://localhost:300",target:"_blank",rel:"noopener noreferrer"},$e=t("localhost:3000"),Xe=t(". Head to that page and setup login."),Ze=l('<div class="custom-container warning"><p class="custom-container-title">Password</p><p>Use an unique password. You should not use your own Roblox account&#39;s password for this!</p></div><p>Enter your Roblox username (Not to be confused with display name), as well as a password to log into Tovy. And click next.</p><p>Now, you should be able to see a new page, asking for your Roblox group&#39;s information. Enter your Group ID to the specified text field in order to proceed. To find your Group ID, head to your group first, the number sequence in the URL is the Group ID.</p><p>\u{1F389} Setup should be complete now!</p><h3 id="serving-tovy" tabindex="-1"><a class="header-anchor" href="#serving-tovy" aria-hidden="true">#</a> Serving Tovy</h3><p>We will be using a tool to keep Tovy&#39;s instance always online \u2013\u2013 <code>pm2</code>, this can be installed with your NodeJS package manager.</p>',6),et={class:"custom-container warning"},tt=e("p",{class:"custom-container-title"},"Starting without Building",-1),ot=t("Stop! Do not use this section if you did not build Tovy. Go back to "),nt={href:"https://docs.tovyblox.xyz/guides/deploy/setup.html#finishing-up",target:"_blank",rel:"noopener noreferrer"},st=t("Finishing Up"),at=t("."),it=t("If you want to try Tovy without building it, you can go to "),rt={href:"https://docs.tovyblox.xyz/guides/deploy/setup.html#starting-tovy",target:"_blank",rel:"noopener noreferrer"},lt=t("Starting Tovy"),dt=t(" and start a "),ut=e("strong",null,"Dev Build",-1),ct=t("."),ht=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`npm i -g pm2
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),pt=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`pnpm i -g pm2
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),gt=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`yarn global add pm2
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),_t=e("p",null,"Once that has been done, run the command:",-1),yt=e("div",{class:"language-text ext-text line-numbers-mode"},[e("pre",{class:"language-text"},[e("code",null,`pm2 start npm --name="Tovy" -- start
`)]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),mt=t("and it should start serving Tovy under the location "),bt={href:"http://locahost:3000",target:"_blank",rel:"noopener noreferrer"},ft=t("localhost:3000"),vt=t(". Point it to the server's IP and map it to a (sub)domain."),wt=l('<h2 id="setting-up-tovy-as-a-railway-project-free-plan" tabindex="-1"><a class="header-anchor" href="#setting-up-tovy-as-a-railway-project-free-plan" aria-hidden="true">#</a> Setting up Tovy as a Railway project (free plan)</h2><div class="custom-container warning"><p class="custom-container-title">WARNING</p><p>Again, this solution is free, but if your group is relatively large, avoid the free plan and go for the paid tiers.</p></div><p>Railway offers a free tier, if your group is small, we highly recommend using Railway as a temporary platform.</p><h3 id="prerequisites-1" tabindex="-1"><a class="header-anchor" href="#prerequisites-1" aria-hidden="true">#</a> Prerequisites</h3><ul><li>A GitHub account <strong>at least older than 30 days</strong></li><li>A credit card (if you are going for the paid tiers)</li></ul><h3 id="deploying-tovy-onto-railway" tabindex="-1"><a class="header-anchor" href="#deploying-tovy-onto-railway" aria-hidden="true">#</a> Deploying Tovy onto Railway</h3><p>To begin, click the button below</p>',7),xt={href:"https://railway.app/new/template/LvWOKQ?referralCode=D_TFvj",target:"_blank",rel:"noopener noreferrer"},Tt=e("img",{src:"https://railway.app/button.svg",alt:"Deploy on Railway"},null,-1),St=l('<p>Signup/login Railway with your GitHub account, make sure you have installed the Railway app into your account/organisation.</p><p>For the secret key go to https://1password.com/password-generator/ and generate a password with 64 charactars that has symbols and copy it</p><p>Then in SESSION_SECRET paste the code you just made Check <code>Private repo?</code> and click <code>Deploy</code>.</p><p>Railway will now create a PostgreSQL database and complete the initial setup for you. Just wait until you see <code>Success</code> at the top.</p><h3 id="setting-up-tovy-for-the-first-time-1" tabindex="-1"><a class="header-anchor" href="#setting-up-tovy-for-the-first-time-1" aria-hidden="true">#</a> Setting up Tovy for the first time</h3><p>When deploying Tovy with Railway, the database creation is automatically done for you, there is no need to create a database manually or whatsoever.</p><p>When Railway finished building Tovy, you will see two links just below the build status text (psss: the one that says <code>Success</code>). Click the first one as the second is for development purposes only.</p><div class="custom-container warning"><p class="custom-container-title">Password</p><p>Use an unique password. You should not use your own Roblox account&#39;s password for this!</p></div><p>Enter your Roblox username (Not to be confused with display name), as well as a password to log into Tovy. And click next.</p><p>Now, you should be able to see a new page, asking for your Roblox group&#39;s information. Enter your Group ID to the specified text field in order to proceed. To find your Group ID, head to your group first, the number sequence in the URL is the Group ID.</p><p>\u{1F389} Setup should be complete now!</p>',11);function kt(Rt,qt){const s=d("ExternalLinkIcon"),a=d("RouterLink"),i=d("CodeGroupItem"),r=d("CodeGroup");return u(),c(h,null,[e("div",_,[y,e("p",null,[m,e("a",b,[f,o(s)])])]),v,e("p",null,[w,e("a",x,[T,o(s)]),S]),k,R,e("nav",q,[e("ul",null,[e("li",null,[o(a,{to:"#table-of-content"},{default:n(()=>[I]),_:1})]),e("li",null,[o(a,{to:"#setting-up-tovy-in-your-server"},{default:n(()=>[N]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#prerequisites"},{default:n(()=>[D]),_:1})]),e("li",null,[o(a,{to:"#connecting-to-your-server"},{default:n(()=>[P]),_:1})]),e("li",null,[o(a,{to:"#downloading-tovy-and-required-dependencies"},{default:n(()=>[L]),_:1})]),e("li",null,[o(a,{to:"#database-setup"},{default:n(()=>[G]),_:1})]),e("li",null,[o(a,{to:"#setting-up-tovy-for-the-first-time"},{default:n(()=>[C]),_:1})]),e("li",null,[o(a,{to:"#finishing-up"},{default:n(()=>[A]),_:1})]),e("li",null,[o(a,{to:"#starting-tovy"},{default:n(()=>[U]),_:1})]),e("li",null,[o(a,{to:"#setting-up-login-and-your-group"},{default:n(()=>[E]),_:1})]),e("li",null,[o(a,{to:"#serving-tovy"},{default:n(()=>[j]),_:1})])])]),e("li",null,[o(a,{to:"#setting-up-tovy-as-a-railway-project-free-plan"},{default:n(()=>[O]),_:1}),e("ul",null,[e("li",null,[o(a,{to:"#prerequisites-1"},{default:n(()=>[F]),_:1})]),e("li",null,[o(a,{to:"#deploying-tovy-onto-railway"},{default:n(()=>[Q]),_:1})]),e("li",null,[o(a,{to:"#setting-up-tovy-for-the-first-time-1"},{default:n(()=>[W]),_:1})])])])])]),Y,e("div",J,[B,z,e("p",null,[H,e("a",V,[K,o(s)]),M])]),e("p",null,[$,e("a",X,[Z,o(s)]),ee]),te,e("div",oe,[ne,e("p",null,[se,e("a",ae,[ie,o(s)]),re,e("a",le,[de,o(s)]),ue])]),ce,he,pe,o(r,null,{default:n(()=>[o(i,{title:"npm"},{default:n(()=>[ge]),_:1}),o(i,{title:"pnpm"},{default:n(()=>[_e]),_:1}),o(i,{title:"Yarn"},{default:n(()=>[ye]),_:1})]),_:1}),me,e("p",null,[be,e("a",fe,[ve,o(s)]),we]),xe,e("p",null,[Te,e("a",Se,[ke,o(s)])]),Re,o(r,null,{default:n(()=>[o(i,{title:"npm"},{default:n(()=>[qe]),_:1}),o(i,{title:"pnpm"},{default:n(()=>[Ie]),_:1}),o(i,{title:"Yarn"},{default:n(()=>[Ne]),_:1})]),_:1}),e("p",null,[De,Pe,e("a",Le,[Ge,o(s)])]),Ce,Ae,o(r,null,{default:n(()=>[o(i,{title:"npm"},{default:n(()=>[Ue]),_:1}),o(i,{title:"pnpm"},{default:n(()=>[Ee]),_:1}),o(i,{title:"Yarn"},{default:n(()=>[je]),_:1})]),_:1}),e("p",null,[Oe,e("a",Fe,[Qe,o(s)]),We,Ye,Je]),o(r,null,{default:n(()=>[o(i,{title:"npm"},{default:n(()=>[Be]),_:1}),o(i,{title:"pnpm"},{default:n(()=>[ze]),_:1}),o(i,{title:"Yarn"},{default:n(()=>[He]),_:1})]),_:1}),Ve,e("p",null,[Ke,e("a",Me,[$e,o(s)]),Xe]),Ze,e("div",et,[tt,e("p",null,[ot,e("a",nt,[st,o(s)]),at]),e("p",null,[it,e("a",rt,[lt,o(s)]),dt,ut,ct])]),o(r,null,{default:n(()=>[o(i,{title:"npm"},{default:n(()=>[ht]),_:1}),o(i,{title:"pnpm"},{default:n(()=>[pt]),_:1}),o(i,{title:"Yarn"},{default:n(()=>[gt]),_:1})]),_:1}),_t,yt,e("p",null,[mt,e("a",bt,[ft,o(s)]),vt]),wt,e("p",null,[e("a",xt,[Tt,o(s)])]),St],64)}var Dt=p(g,[["render",kt]]);export{Dt as default};
